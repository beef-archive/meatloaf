(function(g,M,c,h,D,i,s,p,P,w,b){"use strict";function z(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if(n!=="default"){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var a=L(M),T=z(h);const[ve,k,H,N,m,V,[,v],f,d,B,W,_e,Ce,Se,Ae,{BOT_AVATARS:Ee},{createBotMessage:U},{getChannelId:C},{receiveMessage:G},{showChangeLog:J,hideChangeLog:q},{changeLog:u}]=c.batchFind(({findByProps:e,findByDisplayName:t,findByDisplayNameAll:n})=>{t("FormTitle"),t("FormText"),t("FormDivider"),t("FormItem"),e("dividerDefault","titleDefault"),e("formText","placeholder"),n("Markdown"),e("Sizes","Colors","Looks","DropdownSizes"),t("Flex"),e("marginTop20","marginBottom8"),t("SwitchItem"),t("Tooltip"),t("Science"),t("InfoFilled"),t("WarningCircle"),e("BOT_AVATARS","DEFAULT_AVATARS"),e("createBotMessage"),e("getChannelId","getVoiceChannelId"),e("receiveMessage","sendBotMessage"),e("showChangeLog"),e("changeLog")});function S(){return a.createElement(H,{className:m.dividerDefault})}function A({children:e,text:t,subtext:n}){return a.createElement(N,{className:[d.Direction.VERTICAL,d.Justify.START,d.Align.STRETCH,d.Wrap.NO_WRAP,B.marginBottom20].join(" ")},a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.createElement("div",null,a.createElement("div",{className:m.labelRow,style:{marginBottom:"4px"}},a.createElement("label",{className:m.title},t)),a.createElement(k,{className:V.description},a.createElement(v,{className:"settings-note-markdown"},n))),e),a.createElement(S,null))}function K({text:e,subtext:t,danger:n,disabled:o,onclick:r,buttonText:l}){return a.createElement(A,{text:e,subtext:t},a.createElement(f,{color:n?f.Colors.RED:f.Colors.BRAND,disabled:o,onClick:()=>r()},l))}function Q({text:e,subtext:t,isToggled:n,onToggle:o,disabled:r}){const[l,Te]=a.useState(n()||!1);return a.createElement(W,{value:l,note:a.createElement(v,null,t),disabled:r?r():!1,onChange:x=>{Te(x),o(x)}},e)}const E=new Map;function X(e,t,n,o=!1,r=!1){const l=o?"before":r?"instead":"after";return T.default[l](t,e,n)}function Y(e,t,n,o,r=!1){const l=r?"before":"after";E.set(e,T.default[l](n,t,o))}function Z(e){const t=E.get(e);return t?(t(),!0):!1}var $=Object.freeze({__proto__:null,patch:X,inject:Y,uninject:Z});const I=new Map;function ee(e,t,n,o=[]){I.set(e,D.addCommand({name:e,description:t,args:o,handler:n}))}function te(e){I.get(e)()}var ne=Object.freeze({__proto__:null,add:ee,remove:te});function oe(e,t="Sapphire"){const n=U(C(),"");typeof e=="string"?n.content=e:n.embeds.push(e),n.state,n.author.id="1",n.author.bot=!0,n.author.discriminator="6969",n.author.avatar="clyde",n.author.username=t,G(C(),n)}var re={...$,commands:ne,internalMessage:oe};const j=()=>Object.keys(c.modules).map(e=>c.modules[e].exports).filter(e=>e),ae=e=>t=>{try{return e(t)}catch{return!1}},R=(e,t)=>{const n=ae(e),o=[];for(const r of j())t&&r.default&&n(r.default)&&o.push(r.default),n(r)&&o.push(r);return o};var le={all:j,common:{React:i.React,ReactDOM:i.ReactDOM,Flux:i.Flux,FluxDispatcher:i.FluxDispatcher,i18n:i.i18n,channels:i.channels,constants:i.constants},find:(e,t=!0)=>R(e,t)[0],findAll:(e,t=!0)=>R(e,t),findByDisplayName:c.findByDisplayName,findByDisplayNameAll:c.findByDisplayNameAll,findByModuleId:e=>c.modules[e],findByProps:c.findByProps,findByPropsAll:c.findByPropsAll,findByPrototypes:c.findByPrototypes},ce={findInReactTree:s.findInReactTree,findInTree:s.findInTree,getNodeInternals:e=>e._reactInternalFiber||e._reactInternals,getOwnerInstance:s.getOwnerInstance,getReactInstance:s.getReactInstance};function ie(e,t){const n=document.createElement("div"),o=p.showToast({title:e,content:t?.subtext||"",duration:t?.duration||3e3});return{toastElem:n,closeFn:o}}let se=Object.assign({},u);function F(e){const t={template:"standard",revision:"1",locale:"en-gb",...e};for(let n of Object.keys(u))delete u[n];for(let n of Object.keys(t))u[n]=t[n]}var de={showChangelog:J,hideChangelog:q,setChangelog:F,resetChangelog:()=>F(se)};function ue(e,t,n,o=void 0,r=void 0){let l;switch(r){case"Brand":l="neutral";break;case"Green":l="confirm";break;case"Red":l="danger";break;default:l="neutral";break}return P.showConfirmationModal({header:t,content:n,confirmText:e,cancelText:o,type:l})}function ge(){return window.goosemod={patcher:re,webpackModules:le,settings:{Items:{divider:S,toggle:Q,"text-and-child":A,"text-and-button":K}},changelog:de,reactUtils:ce,showToast:ie,confirmDialog:ue,_SAPPHIRE:!0},()=>{window.goosemod?._SAPPHIRE&&delete window.goosemod}}const me=eval;function fe(){return fetch("https://goosemod.github.io/topaz/out.js").then(async e=>me(await e.text())),()=>{window.topaz&&(window.topaz.__reloading=!0,window.topaz.purge(),delete window.topaz)}}function he(){const e=document.createElement("frame");e.src="about:blank",document.body.appendChild(e);let t=Object.getOwnPropertyDescriptor(e.contentWindow,"localStorage");return e.remove(),t}var pe=()=>(Object.defineProperty(window,"localStorage",{...he(),_SAPPHIRE:!0}),()=>{window.localStorage._SAPPHIRE&&delete window.localStorage}),we=()=>h.injectCSS(".settings-note-markdown{font-size:inherit;color:inherit!important}.settings-note-markdown,.settings-note-markdown [class*=paragraph-]{margin:0}.beef-sapphire-stub{color:var(--info-warning-foreground);display:flex;gap:.5rem;align-items:center;padding:.25rem}");function O(){setTimeout(()=>{w.installed.ghost[b.id]?.enabled?w.togglePlugin(b.id):O()},1e3)}let y=[];!window.goosemod&&!window.goosemod?._SAPPHIRE?y=[ge(),pe(),fe(),we()]:(p.showToast({title:"Sapphire",content:"GooseMod is already running! Sapphire will be disabled, as it will only cause incompatibilities."}),O());function be(){_.forEachRight(y,e=>e())}return g.onUnload=be,Object.defineProperty(g,"__esModule",{value:!0}),g})({},cumcord.modules.common.React,cumcord.modules.webpack,cumcord.patcher,cumcord.commands,cumcord.modules.common,cumcord.utils,cumcord.ui.toasts,cumcord.ui.modals,cumcord.plugins,cumcord.pluginData);
